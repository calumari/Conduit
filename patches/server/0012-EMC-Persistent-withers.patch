From 007c4647bd4d464b4cfa422cf6890467e69a67db Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Thu, 6 Nov 2014 21:36:14 -0500
Subject: [PATCH] EMC Persistent withers

---
 src/main/java/net/minecraft/server/EntityWither.java         | 2 ++
 .../socialhangover/conduit/config/ConduitWorldConfig.java    | 5 +++++
 2 files changed, 7 insertions(+)

diff --git a/src/main/java/net/minecraft/server/EntityWither.java b/src/main/java/net/minecraft/server/EntityWither.java
index 2f466af4d5..9e3bedc4b4 100644
--- a/src/main/java/net/minecraft/server/EntityWither.java
+++ b/src/main/java/net/minecraft/server/EntityWither.java
@@ -534,6 +534,8 @@ public class EntityWither extends EntityMonster implements IRangedEntity {
         return this.getHealth() <= this.getMaxHealth() / 2.0F;
     }
 
+    @Override public boolean isTypeNotPersistent(double d0) { return world.conduitConfig.witherPersistent; } // Conduit
+
     @Override
     public EnumMonsterType getMonsterType() {
         return EnumMonsterType.UNDEAD;
diff --git a/src/main/java/net/socialhangover/conduit/config/ConduitWorldConfig.java b/src/main/java/net/socialhangover/conduit/config/ConduitWorldConfig.java
index f60ca86b3c..177ed174fd 100644
--- a/src/main/java/net/socialhangover/conduit/config/ConduitWorldConfig.java
+++ b/src/main/java/net/socialhangover/conduit/config/ConduitWorldConfig.java
@@ -88,4 +88,9 @@ public class ConduitWorldConfig {
         idleTimeoutSpawnNearbyEntities = getBoolean("gameplay-mechanics.idle-timeout.spawn-nearby-entities", true);
         idleTimeoutCountAsSleeping = getBoolean("gameplay-mechanics.idle-timeout.count-as-sleeping", false);
     }
+
+    public boolean witherPersistent;
+    private void witherSettings() {
+        witherPersistent = getBoolean("mobs.wither.persistent", false);
+    }
 }
-- 
2.24.1.windows.2

